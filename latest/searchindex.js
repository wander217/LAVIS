Search.setIndex({"docnames": ["benchmark", "getting_started", "index", "intro", "tutorial", "tutorial.configs", "tutorial.datasets", "tutorial.evaluation", "tutorial.models", "tutorial.processors", "tutorial.tasks", "tutorial.training-example"], "filenames": ["benchmark.rst", "getting_started.rst", "index.rst", "intro.rst", "tutorial.rst", "tutorial.configs.rst", "tutorial.datasets.rst", "tutorial.evaluation.rst", "tutorial.models.rst", "tutorial.processors.rst", "tutorial.tasks.rst", "tutorial.training-example.rst"], "titles": ["Benchmark", "Dataset Zoo", "Welcome to LAVIS\u2019s documentation!", "What is LAVIS?", "Tutorials", "Training Models on Task Datasets (Commands and Configurations)", "Adding Datasets", "Evaluating Pre-trained Models on Task Datasets", "Adding Models", "Adding Processors", "Adding Tasks", "Example on Finetuning BLIP on COCO-Captioning"], "terms": {"we": [0, 1, 3, 5, 6, 8, 9, 10, 11], "provid": [0, 1, 3, 5, 6, 7, 8], "script": [0, 1, 3, 5, 7, 11], "evalu": [0, 1, 2, 3, 4, 5, 6, 9, 10, 11], "train": [0, 2, 3, 4, 6, 8, 9, 10, 11], "model": [0, 2, 4, 6, 9, 10], "task": [0, 1, 2, 4, 6, 8, 9, 11], "dataset": [0, 2, 4, 9, 10], "The": [0, 1, 3, 5, 6, 8, 9, 10, 11], "follow": [0, 1, 3, 6, 8, 9, 10, 11], "result": [0, 5, 10], "ar": [0, 1, 5, 6, 8, 9, 10, 11], "includ": [0, 3, 5, 6, 8, 9, 10, 11], "refer": [0, 6, 8, 11], "pretrain": [0, 5, 6, 8], "coco": [0, 1, 2, 3, 4, 5, 6, 7], "download": [0, 2, 3, 6, 7, 10, 11], "visual": [0, 3, 5, 9, 11], "genom": 0, "sbu": [0, 3], "cc3m": 0, "cc12m": 0, "retriev": [0, 3, 5], "r1": 0, "r5": 0, "r10": 0, "tr": 0, "77": 0, "6": [0, 6, 11], "94": 0, "1": [0, 1, 5, 6, 8, 9, 11], "97": 0, "2": [0, 6, 9], "ir": 0, "61": 0, "0": [0, 1, 5, 6, 8, 9, 10, 11], "84": 0, "5": [0, 5, 10, 11], "90": 0, "7": 0, "flickr30k": [0, 1, 3], "vqa": 0, "test": [0, 1, 5, 6, 8, 10, 11], "dev": 0, "std": 0, "vqav2": [0, 1, 3], "76": 0, "35": 0, "54": 0, "okvqa": [0, 3], "na": 0, "aokvqa": 0, "multimod": [0, 1, 3, 5], "classif": [0, 1, 3], "val": [0, 1, 5, 6, 11], "snli": [0, 3], "ve": [0, 1, 3], "80": 0, "60": 0, "81": 0, "04": 0, "nlvr2": [0, 3], "82": 0, "47": 0, "91": 0, "14m": 0, "95": 0, "8": [0, 3, 5, 11], "98": 0, "64": [0, 11], "86": 0, "96": 0, "9": [0, 5], "99": 0, "100": 0, "87": 0, "78": 0, "23": [0, 1], "29": 0, "55": 0, "4": [0, 11], "56": 0, "50": 0, "imag": [0, 3, 5, 6, 9, 11], "caption": [0, 2, 3, 4, 5, 6, 7, 9], "bleu": [0, 6], "cider": [0, 6], "spice": 0, "39": 0, "133": 0, "nocap": [0, 1, 3], "31": 0, "109": 0, "14": [0, 1], "48": 0, "83": 0, "25": 0, "zero": 0, "shot": 0, "57": 0, "36": 0, "71": 0, "67": 0, "88": 0, "93": 0, "3": [0, 3, 5, 9, 10, 11], "imagenet": [0, 1, 3], "msrvtt": [0, 1, 3], "33": [0, 1], "vr": 0, "72": 0, "didemo": [0, 1, 3], "38": 0, "66": 0, "video": [0, 3, 6, 9, 10, 11], "qa": 0, "42": [0, 5, 11], "msvd": [0, 1, 3], "46": 0, "lavi": [1, 5, 7, 11], "inher": 1, "support": [1, 2, 5, 11], "wide": 1, "varieti": [1, 3], "common": [1, 3, 6, 8, 10], "languag": [1, 3, 5, 8, 11], "vision": [1, 3, 5, 8, 11], "automat": [1, 3, 5, 6, 7, 10, 11], "help": [1, 3, 7], "organ": 1, "implement": [1, 3, 6, 8, 9, 10], "pytorch": [1, 5, 6, 11], "To": [1, 5, 6, 7, 8, 9, 10, 11], "view": 1, "us": [1, 3, 5, 6, 7, 8, 9, 10, 11], "code": [1, 6, 11], "from": [1, 3, 5, 6, 7, 8, 9, 10, 11], "builder": [1, 3, 9, 10, 11], "import": [1, 6, 8, 9, 10, 11], "dataset_zoo": 1, "dataset_nam": 1, "get_nam": 1, "print": 1, "aok_vqa": 1, "coco_capt": [1, 11], "coco_retriev": 1, "coco_vqa": 1, "conceptual_caption_12m": 1, "conceptual_caption_3m": 1, "didemo_retriev": 1, "laion2b_multi": 1, "msrvtt_caption": 1, "msrvtt_qa": 1, "msrvtt_retriev": 1, "msvd_caption": 1, "msvd_qa": 1, "nlvr": [1, 3], "ok_vqa": 1, "sbu_capt": 1, "snli_v": 1, "vatex_capt": 1, "vg_caption": 1, "vg_vqa": 1, "len": [1, 6, 9, 10], "now": [1, 7, 11], "take": [1, 3, 11], "an": [1, 3, 6, 7, 8, 9, 10, 11], "exampl": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10], "demonstr": 1, "how": [1, 5, 6, 11], "prepar": [1, 3, 11], "In": [1, 3, 6, 8, 9, 10, 11], "download_script": [1, 3, 6, 7], "tool": [1, 3], "most": [1, 7], "public": [1, 3, 7], "therefor": [1, 11], "first": [1, 6, 7, 9, 11], "via": 1, "cd": [1, 3, 7], "python": [1, 3, 5, 6, 8, 9, 10, 11], "download_coco": [1, 7], "py": [1, 5, 6, 7, 8, 9, 10, 11], "thi": [1, 3, 6, 7, 8, 9, 10, 11], "default": [1, 5, 6, 7, 8, 11], "cach": [1, 6, 7, 11], "locat": [1, 5, 6, 7], "i": [1, 2, 6, 7, 8, 9, 10, 11], "defin": [1, 3, 5, 6, 8, 9, 10], "config": [1, 3, 7, 8, 10, 11], "yaml": [1, 5, 6, 7, 8, 9, 10, 11], "after": [1, 5], "can": [1, 3, 5, 6, 7, 8, 9, 10, 11], "load_dataset": 1, "obtain": 1, "On": 1, "run": [1, 5, 7, 10, 11], "annot": [1, 3, 6, 9, 10, 11], "file": [1, 3, 5, 6, 8, 9, 10, 11], "coco_dataset": 1, "kei": [1, 3, 6, 10], "dict_kei": 1, "566747": 1, "pil": 1, "mode": [1, 3], "rgb": 1, "size": [1, 5, 6], "640x480": 1, "text_input": 1, "A": [1, 3], "woman": 1, "wear": 1, "net": 1, "her": 1, "head": 1, "cut": 1, "cake": 1, "image_id": [1, 6], "If": [1, 3, 6, 7, 11], "you": [1, 3, 5, 6, 7, 11], "alreadi": [1, 6, 8, 10], "host": 1, "local": [1, 5, 6, 7, 11], "copi": [1, 6, 7, 11], "pass": [1, 8, 9, 10], "vis_path": 1, "argument": [1, 11], "chang": [1, 5, 8, 10], "your_local_path": 1, "grow": 1, "list": [1, 8, 9, 11], "differ": [1, 3, 6, 7, 10, 11], "datatset": 1, "vari": 1, "let": [1, 3, 7, 11], "": [1, 6, 7, 9, 11], "get": [1, 9, 10], "start": [1, 5], "model_zoo": [1, 11], "architectur": [1, 8, 11], "type": [1, 5, 8, 9, 11], "albef_classif": 1, "base": [1, 3, 5, 11], "albef_nlvr": 1, "albef_pretrain": 1, "albef_retriev": 1, "flickr": [1, 3], "albef_vqa": 1, "alpro_qa": 1, "alpro_retriev": 1, "blip_capt": [1, 11], "base_coco": [1, 11], "larg": [1, 3, 6, 7, 11], "large_coco": [1, 11], "blip_classif": 1, "blip_feature_extractor": 1, "blip_nlvr": 1, "blip_pretrain": 1, "blip_retriev": 1, "blip_vqa": 1, "clip": [1, 2, 3, 8], "vit": [1, 6], "b": 1, "32": 1, "16": [1, 11], "l": [1, 6], "336": 1, "rn50": 1, "show": [1, 3, 11], "total": [1, 5], "number": [1, 5, 8], "variant": 1, "see": [1, 5, 7, 11], "perform": [1, 5], "data": [1, 3, 9, 10, 11], "sampl": [1, 6, 8, 9, 10], "setup": [1, 5], "devic": [1, 5, 8, 11], "torch": [1, 3, 5, 6, 8, 9, 10, 11], "cuda": [1, 5, 11], "is_avail": 1, "els": [1, 6, 8, 9], "cpu": [1, 5], "raw_imag": 1, "open": [1, 6], "doc": 1, "_static": 1, "merlion": 1, "png": [1, 6], "convert": 1, "park": 1, "credit": [1, 6], "landmark": 1, "singapor": 1, "blip": [1, 2, 3, 4, 5, 7, 8], "gener": [1, 3, 5, 6, 10], "make": [1, 9], "even": 1, "easier": [1, 3], "also": [1, 3, 6, 8, 9, 11], "associ": [1, 6, 8, 9, 10, 11], "each": [1, 3, 6, 8, 9, 10, 11], "its": [1, 6, 8, 11], "preprocessor": [1, 3], "transform": [1, 8, 9], "load_model_and_preprocess": 1, "name": [1, 3, 5, 6, 8, 9, 10, 11], "could": [1, 3], "extractor": 1, "full": [1, 11], "model_typ": [1, 5, 8, 11], "ha": [1, 3, 8, 10], "scale": 1, "column": 1, "is_ev": 1, "true": [1, 5, 8, 9, 10, 11], "set": [1, 6, 10, 11], "desir": 1, "devc": 1, "finetun": [1, 2, 4, 5, 7], "checkpoint": [1, 5, 11], "mscoco": [1, 5, 7], "processor": [1, 2, 3, 4, 6, 11], "vis_processor": [1, 5, 6, 9, 11], "_": [1, 9], "preprocess": [1, 3, 9], "store": [1, 3, 5, 6, 11], "eval": [1, 7, 9, 11], "valid": [1, 5, 10], "unsqueez": 1, "fountain": 1, "spew": 1, "water": 1, "air": 1, "mai": [1, 3, 5, 11], "separ": [1, 6, 8], "load_model": [1, 11], "load_processor": 1, "divers": 1, "turn": [1, 6, 9], "nucleu": 1, "blip_image_ev": [1, 11], "build": [1, 3, 8, 9, 10, 11], "image_s": 1, "384": 1, "use_nucleus_sampl": 1, "one": [1, 3, 6, 9, 10], "random": [1, 5], "some": [1, 10], "veri": 1, "pretti": 1, "jet": 1, "abl": [1, 6], "free": 1, "form": [1, 6], "about": [1, 6], "natur": [1, 3, 6], "access": [1, 3], "simpli": [1, 7, 9, 11], "replac": 1, "txt_processor": 1, "ask": 1, "which": [1, 5, 6, 8, 9, 10, 11], "citi": 1, "photo": 1, "taken": 1, "predict_answ": 1, "inference_method": 1, "low": 1, "dimension": 1, "unimod": 1, "comput": 1, "cross": 1, "modal": [1, 3], "similar": [1, 5, 8], "features_multimod": 1, "extract_featur": 1, "odict_kei": 1, "image_emb": 1, "multimodal_emb": 1, "shape": [1, 8], "12": 1, "768": 1, "features_imag": 1, "image_embeds_proj": 1, "197": 1, "256": [1, 5], "features_text": 1, "text": [1, 3, 5, 6, 11], "text_emb": 1, "text_embeds_proj": 1, "t": [1, 9], "tensor": [1, 9], "2622": 1, "sinc": 1, "minim": [1, 8], "necessari": 1, "For": [1, 3, 5, 6, 8, 9, 10, 11], "albef": [1, 2, 3, 8], "onli": [1, 5, 6, 8, 11], "need": [1, 10, 11], "line": 1, "albef_feature_extractor": 1, "similarli": [1, 6, 11], "clip_feature_extractor": 1, "what": [2, 11], "librari": [2, 6, 8, 9, 10, 11], "design": [2, 6, 8, 9, 10], "instal": 2, "zoo": [2, 3, 5], "auto": [2, 6], "load": [2, 3, 5, 6, 8, 9, 10, 11], "infer": [2, 3, 10], "pre": [2, 3, 4, 5, 11], "unifi": [2, 3], "featur": [2, 3, 6, 8, 9, 11], "extract": [2, 3, 6, 9], "interfac": 2, "benchmark": [2, 3, 6], "alpro": [2, 3, 8], "tutori": [2, 6, 8, 9, 10], "avail": [2, 3, 4, 5], "configur": [2, 3, 4, 8, 9, 10], "command": [2, 4, 6, 11], "ad": [2, 4, 11], "index": [2, 6], "modul": [2, 3, 6, 8, 9, 10], "search": [2, 5, 8, 10], "page": 2, "deep": 3, "learn": [3, 5, 6, 10, 11], "research": [3, 11], "applic": [3, 9], "It": 3, "state": 3, "art": 3, "foundat": [3, 6, 8], "question": [3, 6, 9], "answer": [3, 6, 9], "etc": [3, 6, 11], "conceptu": 3, "aim": 3, "engin": 3, "stop": 3, "solut": 3, "rapidli": 3, "develop": [3, 6, 8], "specif": [3, 5, 6, 8, 9, 10, 11], "scenario": 3, "them": [3, 6], "across": [3, 6, 8, 9, 10], "standard": [3, 5, 6, 8, 9, 10], "custom": [3, 6, 8, 9, 10], "modular": 3, "extens": 3, "facilit": [3, 9], "easili": [3, 6], "util": [3, 6, 8, 9, 10], "repurpos": 3, "exist": [3, 6, 8, 9, 10], "add": [3, 6, 8, 9, 10, 11], "new": [3, 6, 11], "easi": 3, "off": [3, 7], "shelf": [3, 7], "readili": 3, "advantag": 3, "understand": 3, "capabl": 3, "your": [3, 5, 11], "own": [3, 5, 8], "reproduc": 3, "recipi": 3, "replic": [3, 5, 6, 8, 9, 10], "extend": [3, 6], "hassl": 3, "mani": [3, 8, 10], "downloa": 3, "other": [3, 6, 8, 9], "distribut": [3, 5, 6, 10, 11], "multipl": [3, 6, 9, 11], "gpu": [3, 5, 6], "machin": [3, 6, 10], "web": 3, "demo": 3, "try": [3, 11], "pictur": [3, 11], "leaderboard": [3, 6], "compar": 3, "explor": 3, "brows": 3, "tabl": 3, "adapt": [3, 6], "more": [3, 6], "possibl": 3, "next": [3, 8], "come": 3, "futur": 3, "releas": 3, "visualgenom": 3, "conceptualcapt": 3, "reason": 3, "entail": 3, "dialogu": [3, 9], "visdial": 3, "videoqa": 3, "vgd": 3, "gpt": 3, "avsd": [3, 6], "six": 3, "runner": 3, "manag": 3, "overal": 3, "lifecycl": 3, "respons": [3, 6, 9, 11], "creat": [3, 6, 7, 8, 9], "requir": [3, 6, 8, 9], "compon": 3, "lazili": 3, "per": [3, 5, 6], "demand": 3, "optim": [3, 5, 10, 11], "rate": [3, 5, 11], "schedul": [3, 11], "dataload": [3, 6], "current": [3, 6], "runnerbas": 3, "epoch": [3, 5], "runerit": 3, "iter": [3, 6], "concret": 3, "logic": 3, "rational": 3, "have": [3, 6, 7, 8, 9, 10, 11], "abstract": 3, "accomod": 3, "where": [3, 5, 6], "return": [3, 6, 8, 9, 10], "object": [3, 6, 10], "instanc": [3, 6, 8, 9, 10, 11], "hold": 3, "definit": [3, 6, 8, 9, 10], "share": 3, "layer": [3, 8], "handl": 3, "befor": [3, 6, 8, 11], "feed": 3, "thought": 3, "transfrom": 3, "torchvis": 3, "input": [3, 5, 6, 9, 11], "lower": 3, "case": [3, 6, 8, 11], "truncat": 3, "contain": [3, 6, 8, 10], "class": [3, 6, 8, 9, 10, 11], "method": [3, 6, 8, 9, 10], "manipul": 3, "particular": 3, "hierarch": 3, "allow": [3, 6, 8, 9, 10, 11], "highli": 3, "customiz": 3, "registri": [3, 6, 8, 9, 10, 11], "serv": 3, "central": [3, 10], "place": 3, "same": [3, 6, 11], "function": [3, 5, 6, 8, 10], "dure": [3, 5, 6, 8, 10], "runtim": [3, 5, 11], "specifi": [3, 5, 6, 7, 8, 9, 10, 11], "string": [3, 6, 11], "dist_util": [3, 10], "miscellan": 3, "mostli": 3, "io": 3, "relat": [3, 11], "helper": 3, "option": [3, 5, 6], "conda": 3, "environ": 3, "n": [3, 6], "activ": 3, "clone": 3, "sourc": [3, 6], "git": 3, "http": [3, 6, 11], "github": [3, 6], "com": [3, 6, 11], "metamind": 3, "pip": 3, "would": 3, "like": 3, "find": [3, 11], "edit": 3, "e": [3, 5, 6, 7, 8, 9, 10], "run_script": [5, 7, 11], "experi": 5, "just": [5, 6], "bash": [5, 7, 11], "train_retrieval_coco": 5, "sh": [5, 7, 11], "insid": 5, "m": [5, 8, 11], "nproc_per_nod": [5, 11], "cfg": [5, 6, 8, 9, 10, 11], "path": [5, 6, 7, 8, 9, 10, 11], "project": [5, 6, 11], "retrieval_coco_ft": 5, "accord": [5, 6], "hardwar": 5, "recip": 5, "descript": [5, 6, 11], "below": [5, 11], "arch": [5, 8, 10, 11], "depend": [5, 6], "g": [5, 6, 7, 8, 9, 10], "load_pretrain": 5, "weight": [5, 8, 11], "fals": [5, 8, 11], "load_finetun": [5, 11], "url": [5, 6, 11], "process": [5, 6, 8, 9, 10, 11], "text_processor": [5, 6, 9, 11], "build_info": [5, 6, 11], "inform": [5, 6, 11], "storag": [5, 6, 11], "lr_sched": [5, 11], "schedular": 5, "linear_warmup_cosine_lr": [5, 11], "init_lr": [5, 11], "initi": [5, 8, 9, 10], "warmup": 5, "min_lr": [5, 11], "final": [5, 6, 8, 9], "decai": 5, "warmup_lr": 5, "lr_decay_r": 5, "step_lr_shedul": 5, "warmup_step": 5, "step": [5, 6, 8, 9, 10], "max_epoch": [5, 11], "weight_decai": [5, 11], "coeffici": 5, "05": [5, 11], "batch_size_train": [5, 11], "batch": 5, "batch_size_ev": [5, 11], "seed": [5, 11], "pseudo": 5, "output_dir": [5, 11], "directori": [5, 6, 11], "log": [5, 6, 10, 11], "resume_ckpt_path": [5, 11], "resum": 5, "none": [5, 6, 8, 9], "without": [5, 8], "train_split": [5, 11], "split": [5, 6, 10, 11], "valid_split": [5, 11], "world_siz": [5, 11], "particip": 5, "job": 5, "dist_url": [5, 11], "group": 5, "env": [5, 11], "amp": [5, 11], "mix": 5, "precis": 5, "max_len": [5, 10, 11], "maximum": 5, "token": [5, 6, 8, 9], "20": [5, 10, 11], "min_len": [5, 9, 10, 11], "minimum": 5, "num_beam": [5, 10, 11], "beam": [5, 10], "negative_all_rank": 5, "collect": [5, 6], "neg": 5, "all": [5, 6, 8, 9, 10, 11], "match": [5, 6], "loss": [5, 10], "k_test": 5, "candid": 5, "rank": 5, "contrast": 5, "ani": [6, 8, 9, 10], "our": 6, "audio": 6, "scene": 6, "awar": 6, "ground": [6, 9, 10], "basic": [6, 8], "avsd_dialogu": [6, 9], "under": [6, 8, 9, 10], "up": 6, "defaults_di": 6, "dataset_card": [6, 11], "md": [6, 11], "data_typ": [6, 11], "Be": [6, 11], "care": [6, 11], "append": [6, 9, 11], "minu": [6, 11], "sign": [6, 11], "avoid": [6, 11], "item": [6, 9, 10, 11], "export": 6, "home": 6, "train_set4dstc7": 6, "json": [6, 10, 11], "valid_set4dstc7": 6, "test_set4dstc7": 6, "One": [6, 11], "detail": [6, 11], "metric": 6, "correspond": [6, 8, 9, 11], "folder": 6, "should": [6, 8, 9, 10], "describ": [6, 11], "extern": 6, "instruct": 6, "origin": 6, "properli": [6, 8, 9, 10], "arxiv": 6, "org": [6, 11], "pdf": 6, "1901": 6, "09107": 6, "img": 6, "hudaalamri": 6, "dstc7": 6, "dialog": [6, 9], "challeng": 6, "than": [6, 11], "10": 6, "000": 6, "uniqu": [6, 8], "system": 6, "must": [6, 8, 9, 10], "user": [6, 8, 9, 10], "context": [6, 9], "given": [6, 11], "consist": 6, "histori": [6, 9], "previou": 6, "utter": 6, "both": 6, "addit": [6, 8, 9], "compris": 6, "qualiti": 6, "sentenc": 6, "measur": 6, "determin": 6, "whether": 6, "typic": 6, "aclanthologi": 6, "p02": 6, "1040": 6, "www": 6, "cv": 6, "openaccess": 6, "content_cvpr_2015": 6, "paper": 6, "vedantam_cider_consensu": 6, "based_image_2015_cvpr_pap": 6, "meteor": 6, "w05": 6, "0909": 6, "roug": 6, "w04": 6, "1013": 6, "pleas": 6, "webit": 6, "huda": 6, "alamri": 6, "vincent": 6, "cartilli": 6, "abhishek": 6, "da": 6, "jue": 6, "wang": 6, "anoop": 6, "cherian": 6, "irfan": 6, "essa": 6, "dhruv": 6, "batra": 6, "tim": 6, "k": [6, 8, 9], "mark": 6, "chiori": 6, "hori": 6, "peter": 6, "anderson": 6, "stefan": 6, "lee": 6, "devi": 6, "parikh": 6, "limit": 6, "three": 6, "raw": [6, 9], "appropri": 6, "represent": [6, 8], "cnn": 6, "3d": 6, "paramet": [6, 8, 9, 10, 11], "either": 6, "onlin": 6, "googleapi": [6, 11], "beforehand": [6, 9], "over": 6, "time": [6, 11], "repeatedli": 6, "ensur": [6, 8], "field": 6, "earlier": 6, "As": [6, 8, 11], "usual": [6, 8], "maintain": [6, 8, 11], "want": [6, 7, 8, 9, 10], "inherit": [6, 8, 9, 10], "collat": 6, "concatdataset": 6, "default_col": 6, "basedataset": 6, "def": [6, 8, 9, 10], "self": [6, 8, 9, 10], "vis_root": 6, "ann_path": 6, "root": [6, 11], "ann_root": 6, "r": 6, "_add_instance_id": 6, "__len__": 6, "set_processor": 6, "instance_id": [6, 10], "idx": 6, "ann": [6, 9], "enumer": [6, 9], "str": 6, "subclass": [6, 8, 9, 10], "overwrit": [6, 11], "accordingli": [6, 8], "encourag": [6, 9], "modifi": [6, 8, 9, 10], "modif": 6, "cascad": 6, "impact": [6, 9, 10], "instead": 6, "independ": 6, "cater": [6, 10], "dialoguedataset": 6, "o": [6, 9, 10], "ordereddict": 6, "textual": [6, 9, 11], "all_turn": 6, "dialogue_context": 6, "dialog_inst": 6, "deepcopi": 6, "img_id": 6, "u": [6, 8, 9, 10], "anoth": [6, 8, 9, 10], "dialogueevaldataset": 6, "abov": [6, 8, 9, 10, 11], "singl": 6, "construct": [6, 9], "rather": 6, "decompos": 6, "except": 6, "last_turn": 6, "fine": [6, 11], "grain": 6, "further": 6, "avsddialdataset": 6, "individu": 6, "super": [6, 8, 10], "__getitem__": 6, "vname": [6, 9], "video_ft": [6, 8, 9], "video_token_type_id": 6, "token_type_id": [6, 8, 9], "input_id": [6, 8, 9], "label": [6, 9], "pad": [6, 9], "cat": [6, 8], "dim": [6, 8, 9], "attn_mask": [6, 8], "get_attention_mask": [6, 9], "video_mask": 6, "video_label": 6, "ones": 6, "long": [6, 9], "ignor": 6, "indic": [6, 11], "note": [6, 8, 9, 10, 11], "superclass": 6, "alwai": 6, "control": 6, "basedatasetbuild": 6, "train_dataset_cl": 6, "eval_dataset_cl": 6, "oper": [6, 8, 9, 10], "advis": [6, 8, 10], "carefulli": [6, 10], "review": [6, 10], "_download_data": 6, "build_dataset": [6, 10], "call": [6, 11], "tpu": 6, "is_main_process": [6, 10], "is_dist_avail_and_initi": 6, "dist": [6, 10], "barrier": 6, "point": [6, 11], "_download_ann": 6, "_download_vi": 6, "affect": [6, 8], "avsd_dialogue_dataset": 6, "avsddialevaldataset": 6, "register_build": 6, "avsddialbuild": 6, "dataset_config_dict": [6, 11], "chose": 6, "consid": [6, 10], "between": 6, "often": 6, "truth": 6, "two": [6, 8, 11], "link": 6, "within": [6, 10], "__all__": [6, 8, 9, 10], "being": 6, "correct": [6, 8, 9, 10], "dialogue_avsd_ft": [6, 8, 9, 10], "subsequ": [6, 8, 9, 10], "put": 7, "updat": 7, "cache_root": 7, "recommend": [7, 10], "symlink": 7, "ln": 7, "eval_coco_cap": 7, "Or": 7, "eval_coco_cap_larg": 7, "major": [8, 10], "integr": [8, 10], "procedur": [8, 10], "basemodel": 8, "omegaconf": [8, 9], "numpi": [8, 10], "np": [8, 9, 10], "nn": [8, 9], "get_abs_path": 8, "forward_featur": 8, "arg": [8, 10], "kwarg": [8, 9, 10], "forward": 8, "rais": 8, "notimplementederror": 8, "load_from_pretrain": 8, "url_or_filenam": 8, "classmethod": [8, 9, 10], "_from_config": 8, "cl": [8, 9, 10], "when": 8, "default_config_path": 8, "from_config": [8, 9, 10], "from_pretrain": [8, 9], "properti": 8, "assert": [8, 9, 10], "pretrained_model_config_dict": [8, 11], "unknown": 8, "format": 8, "before_evalu": 8, "show_n_param": 8, "return_str": 8, "tot": 8, "p": 8, "w": 8, "x": [8, 9], "1e6": 8, "1f": 8, "1e3": 8, "declar": [8, 10], "_from_pretrain": 8, "while": [8, 9, 11], "still": [8, 9], "assum": [8, 9], "gpt2lmheadmodel": 8, "enforc": 8, "framework": 8, "through": 8, "secondari": 8, "gpt2model": 8, "modeling_output": 8, "causallmoutputwithcrossattent": 8, "math": 8, "crossentropyloss": 8, "mseloss": 8, "register_model": [8, 11], "gptdialogu": 8, "fit": 8, "interest": [8, 9], "linear": 8, "network": 8, "dimens": 8, "len_video_ft": 8, "4224": 8, "video_ff": 8, "n_embd": 8, "parallel": 8, "model_parallel": 8, "device_map": 8, "appli": 8, "post_init": 8, "redefin": 8, "length": 8, "part": [8, 9, 10, 11], "word": 8, "special": 8, "vocabulari": 8, "gpt2": [8, 9], "resize_token_embed": 8, "len_token": 8, "explicitli": 8, "past_key_valu": 8, "position_id": 8, "head_mask": 8, "encoder_hidden_st": 8, "encoder_attention_mask": 8, "use_cach": 8, "output_attent": 8, "output_hidden_st": 8, "return_dict": 8, "input_emb": 8, "wte": 8, "video_emb": 8, "transformer_output": 8, "attention_mask": 8, "inputs_emb": 8, "hidden_st": 8, "lm_logit": 8, "lm_head": 8, "offici": [8, 9, 10], "do": [8, 9], "simplifi": 8, "enabl": [8, 11], "main": 8, "here": [8, 9, 11], "famili": 8, "gpt_dialogue_bas": 8, "50264": 8, "50257": 8, "i3d_rgb": [8, 9], "2048": 8, "i3d_flow": [8, 9], "vggish": [8, 9], "128": 8, "dictionari": [8, 10, 11], "By": [8, 11], "sequenc": 9, "concaten": 9, "compat": 9, "baseprocessor": 9, "lambda": 9, "__call__": 9, "gptvideofeatureprocessor": 9, "npy": 9, "attent": 9, "mask": 9, "special_tokens_dict": 9, "bos_token": 9, "bo": 9, "eos_token": 9, "eo": 9, "additional_special_token": 9, "speaker1": 9, "speaker2": 9, "cap": 9, "pad_token": 9, "register_processor": 9, "gpt_video_ft": 9, "visual_ft": 9, "audio_ft": 9, "gpt2token": 9, "add_special_token": 9, "seq": 9, "padded_seq": 9, "rnn": 9, "pad_sequ": 9, "batch_first": 9, "padding_valu": 9, "sum": 9, "ft_root": 9, "all_ft": 9, "ft_name": 9, "ft_path": 9, "join": 9, "min": 9, "ft": 9, "sampled_ft": 9, "axi": 9, "video_type_token": 9, "convert_tokens_to_id": 9, "gptdialogueprocessor": 9, "receiv": [9, 10], "gpt_dialogu": 9, "max_turn": 9, "use_capt": 9, "sample_sequ": 9, "special_token": 9, "chain": 9, "v": 9, "pad_token_id": 9, "summari": 9, "encod": 9, "dial_histori": 9, "basetask": 10, "get_rank": 10, "get_world_s": 10, "logger": 10, "metriclogg": 10, "smoothedvalu": 10, "data_util": 10, "prepare_sampl": 10, "inst_id_kei": 10, "setup_task": 10, "build_model": 10, "model_config": 10, "model_cfg": 10, "model_cl": 10, "get_model_class": 10, "_description_": 10, "dict": 10, "datasets_config": 10, "datasets_cfg": 10, "At": 10, "least": 10, "dataset_config": 10, "get_builder_class": 10, "train_step": 10, "dialoguetask": 10, "main_process": 10, "register_task": 10, "report_metr": 10, "run_cfg": 10, "valid_step": 10, "among": 10, "emphas": 10, "These": 10, "were": 10, "fulli": 10, "due": 10, "stage": 10, "done": 11, "so": 11, "train_caption_coco_larg": 11, "closer": 11, "look": 11, "doe": 11, "caption_coco_large_ft": 11, "seen": 11, "shown": 11, "copyright": 11, "c": 11, "2022": 11, "salesforc": 11, "inc": 11, "right": 11, "reserv": 11, "spdx": 11, "licens": 11, "identifi": 11, "bsd": 11, "claus": 11, "repo": 11, "opensourc": 11, "blip_image_train": 11, "prompt": 11, "2e": 11, "num_work": 11, "output": 11, "caption_coco": 11, "null": 11, "test_split": 11, "divid": 11, "section": 11, "inspect": 11, "onc": 11, "regist": 11, "instanti": 11, "blipcapt": 11, "map": 11, "dynam": 11, "segment": 11, "blip_model": 11, "blipbas": 11, "tune": 11, "karparthi": 11, "usag": 11, "blip_caption_base_coco": 11, "blip_caption_large_coco": 11, "adap": 11, "And": 11, "snippet": 11, "Then": 11, "prioriti": 11, "higher": 11, "mean": 11, "overrid": 11, "second": 11, "respect": 11, "again": 11, "mechan": 11, "blipimagetrainprocessor": 11, "blip_processor": 11, "cococapbuild": 11, "entri": 11, "data_dir": 11, "sfr": 11, "coco_karpathy_train": 11, "md5": 11, "aa31ac474cf6250ebb81d18348a07ed8": 11, "coco_karpathy_v": 11, "b273847456ef5580e33713b1f7de52a0": 11, "coco_karpathy_test": 11, "3ff34b0ef2db02d01c37399f6a2a6cd1": 11, "mainli": 11, "upon": 11, "rel": 11, "alter": 11, "your_local_image_root_dir": 11, "pretrain_14m": 11, "last": 11}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"benchmark": 0, "albef": 0, "blip": [0, 11], "clip": 0, "alpro": 0, "dataset": [1, 3, 5, 6, 7, 11], "zoo": 1, "auto": 1, "download": 1, "load": 1, "model": [1, 3, 5, 7, 8, 11], "infer": 1, "pre": [1, 7], "train": [1, 5, 7], "imag": 1, "caption": [1, 11], "visual": [1, 6], "question": 1, "answer": 1, "vqa": 1, "unifi": 1, "featur": 1, "extract": 1, "interfac": 1, "welcom": 2, "lavi": [2, 3, 6, 8, 9, 10], "": 2, "document": 2, "introduct": 2, "get": 2, "start": 2, "advanc": 2, "usag": 2, "indic": 2, "tabl": 2, "what": 3, "i": 3, "support": 3, "task": [3, 5, 7, 10], "librari": 3, "design": 3, "instal": 3, "tutori": 4, "command": 5, "configur": [5, 6, 11], "ad": [6, 8, 9, 10], "config": 6, "card": 6, "data": 6, "type": 6, "build": 6, "info": 6, "base": [6, 8, 9, 10], "base_dataset": 6, "dialogu": [6, 8, 10], "dialogue_dataset": 6, "builder": 6, "base_dataset_build": 6, "dialogue_build": 6, "regist": [6, 8, 9, 10], "__init__": [6, 8, 9, 10], "assign": [6, 8, 9, 10], "evalu": 7, "prepar": 7, "base_model": 8, "gpt": [8, 9], "style": [8, 9], "video": 8, "ground": 8, "gpt_model": 8, "gpt_dialogu": 8, "new": [8, 9, 10], "processor": 9, "base_processor": 9, "gpt_processor": 9, "base_task": 10, "exampl": 11, "finetun": 11, "coco": 11, "deep": 11, "dive": 11, "runner": 11, "avail": 11}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "nbsphinx": 3, "sphinx": 57}, "alltitles": {"Benchmark": [[0, "benchmark"]], "ALBEF": [[0, "albef"]], "BLIP": [[0, "blip"]], "CLIP": [[0, "clip"]], "ALPRO": [[0, "alpro"]], "Dataset Zoo": [[1, "dataset-zoo"]], "Auto-Downloading and Loading Datasets": [[1, "auto-downloading-and-loading-datasets"]], "Model Zoo": [[1, "model-zoo"]], "Inference with Pre-trained Models": [[1, "inference-with-pre-trained-models"]], "Image Captioning": [[1, "image-captioning"]], "Visual question answering (VQA)": [[1, "visual-question-answering-vqa"]], "Unified Feature Extraction Interface": [[1, "unified-feature-extraction-interface"]], "Welcome to LAVIS\u2019s documentation!": [[2, "welcome-to-lavis-s-documentation"]], "Introduction": [[2, null]], "Getting Started": [[2, null]], "Advanced Usage": [[2, null]], "Indices and tables": [[2, "indices-and-tables"]], "What is LAVIS?": [[3, "what-is-lavis"]], "Supported Tasks, Models and Datasets": [[3, "supported-tasks-models-and-datasets"]], "Library Design": [[3, "library-design"]], "Installation": [[3, "installation"]], "Tutorials": [[4, "tutorials"]], "Training Models on Task Datasets (Commands and Configurations)": [[5, "training-models-on-task-datasets-commands-and-configurations"]], "Adding Datasets": [[6, "adding-datasets"]], "Dataset Configuration lavis.configs.datasets": [[6, "dataset-configuration-lavis-configs-datasets"]], "Dataset Card": [[6, "dataset-card"]], "Visual Data Type": [[6, "visual-data-type"]], "Build Info": [[6, "build-info"]], "Dataset lavis.datasets.datasets": [[6, "dataset-lavis-datasets-datasets"]], "Base Dataset lavis.datasets.datasets.base_dataset": [[6, "base-dataset-lavis-datasets-datasets-base-dataset"]], "Dialogue Datasets lavis.datasets.datasets.dialogue_datasets": [[6, "dialogue-datasets-lavis-datasets-datasets-dialogue-datasets"]], "Dataset Builder lavis.datasets.builders": [[6, "dataset-builder-lavis-datasets-builders"]], "Base Dataset Builder lavis.datasets.builders.base_dataset_builder": [[6, "base-dataset-builder-lavis-datasets-builders-base-dataset-builder"]], "Dialogue Dataset Builder lavis.datasets.builders.dialogue_builder": [[6, "dialogue-dataset-builder-lavis-datasets-builders-dialogue-builder"]], "Registering Builder lavis.datasets.builders.__init__": [[6, "registering-builder-lavis-datasets-builders-init"]], "Assigning Builder": [[6, "assigning-builder"]], "Evaluating Pre-trained Models on Task Datasets": [[7, "evaluating-pre-trained-models-on-task-datasets"]], "Preparing Datasets": [[7, "preparing-datasets"]], "Evaluating pre-trained models": [[7, "evaluating-pre-trained-models"]], "Adding Models": [[8, "adding-models"]], "Base Model lavis.models.base_model": [[8, "base-model-lavis-models-base-model"]], "GPT-style Video-grounded Dialogue Model lavis.models.gpt_models.gpt_dialogue": [[8, "gpt-style-video-grounded-dialogue-model-lavis-models-gpt-models-gpt-dialogue"]], "Registering New Model lavis.models.__init__": [[8, "registering-new-model-lavis-models-init"]], "Assigning Model": [[8, "assigning-model"]], "Adding Processors": [[9, "adding-processors"]], "Base Processor lavis.processors.base_processors": [[9, "base-processor-lavis-processors-base-processors"]], "GPT-style Processors lavis.processors.gpt_processors": [[9, "gpt-style-processors-lavis-processors-gpt-processors"]], "Registering New Processors lavis.processors.__init__": [[9, "registering-new-processors-lavis-processors-init"]], "Assigning Processors": [[9, "assigning-processors"]], "Adding Tasks": [[10, "adding-tasks"]], "Base Task lavis.tasks.base_task": [[10, "base-task-lavis-tasks-base-task"]], "Dialogue Task lavis.tasks.dialogue": [[10, "dialogue-task-lavis-tasks-dialogue"]], "Registering New Task lavis.tasks.__init__": [[10, "registering-new-task-lavis-tasks-init"]], "Assigning Task": [[10, "assigning-task"]], "Example on Finetuning BLIP on COCO-Captioning": [[11, "example-on-finetuning-blip-on-coco-captioning"]], "Deep Dive": [[11, "deep-dive"]], "Model configurations": [[11, "model-configurations"]], "Dataset configurations": [[11, "dataset-configurations"]], "Runner configurations": [[11, "runner-configurations"]], "Available Configurations": [[11, "available-configurations"]]}, "indexentries": {}})